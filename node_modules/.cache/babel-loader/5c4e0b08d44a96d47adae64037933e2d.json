{"ast":null,"code":"import{useDispatch,useSelector}from\"react-redux\";import{useEffect}from\"react\";import Loading from\"components/Loading\";import ErrorMessageBox from\"components/ErrorMessageBox\";import{Button,Row,Col}from\"react-bootstrap\";import{adminRemoveProduct,adminCreateProduct,productsFetch}from\"../features/productsSlice\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AdminProductList=function AdminProductList(){var _useSelector=useSelector(function(state){return state.products;}),products=_useSelector.products,error=_useSelector.error,status=_useSelector.status;var navigate=useNavigate();var dispatch=useDispatch();useEffect(function(){dispatch(productsFetch());},[dispatch]);var handleDelete=function handleDelete(product){if(window.confirm(\"Are you sure you want to delete this product?\")){dispatch(adminRemoveProduct(product));}};var createHandler=function createHandler(){dispatch(adminCreateProduct({navigate:navigate}));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"h1\",{children:\"Products\"})}),/*#__PURE__*/_jsx(Col,{className:\"col text-end\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Button,{type:\"button\",onClick:createHandler,children:\"Create Product\"})})})]}),status===\"pending\"?/*#__PURE__*/_jsx(Loading,{}):error?/*#__PURE__*/_jsx(ErrorMessageBox,{variant:\"danger\",children:error}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"NAME\"}),/*#__PURE__*/_jsx(\"th\",{children:\"PRICE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"CATEGORY\"}),/*#__PURE__*/_jsx(\"th\",{children:\"BRAND\"}),/*#__PURE__*/_jsx(\"th\",{children:\"IN STOCK\"}),/*#__PURE__*/_jsx(\"th\",{children:\"EDIT\"}),/*#__PURE__*/_jsx(\"th\",{children:\"DELETE\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:products.map(function(product){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:product._id}),/*#__PURE__*/_jsx(\"td\",{children:product.name}),/*#__PURE__*/_jsxs(\"td\",{children:[\"\\u20AC \",product.price]}),/*#__PURE__*/_jsx(\"td\",{children:product.category}),/*#__PURE__*/_jsx(\"td\",{children:product.brand}),/*#__PURE__*/_jsx(\"td\",{children:product.countInStock}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Button,{variant:\"light\",onClick:function onClick(){return navigate(\"/admin/product/\".concat(product._id));},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-wrench\"})})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Button,{variant:\"light\",onClick:function onClick(){return handleDelete(product);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash\"})})})]},product._id);})})]})})]});};export default AdminProductList;","map":{"version":3,"names":["useDispatch","useSelector","useEffect","Loading","ErrorMessageBox","Button","Row","Col","adminRemoveProduct","adminCreateProduct","productsFetch","useNavigate","AdminProductList","state","products","error","status","navigate","dispatch","handleDelete","product","window","confirm","createHandler","map","_id","name","price","category","brand","countInStock"],"sources":["C:/tiedostot/coffees-shop-mern-stack/client/src/pages/AdminProductList.js"],"sourcesContent":["import { useDispatch, useSelector } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\nimport Loading from \"components/Loading\";\r\nimport ErrorMessageBox from \"components/ErrorMessageBox\";\r\nimport { Button, Row, Col } from \"react-bootstrap\";\r\nimport {\r\n  adminRemoveProduct,\r\n  adminCreateProduct,\r\n  productsFetch,\r\n} from \"../features/productsSlice\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst AdminProductList = () => {\r\n  const { products, error, status } = useSelector((state) => state.products);\r\n  const navigate = useNavigate();\r\n\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(productsFetch());\r\n  }, [dispatch]);\r\n\r\n  const handleDelete = (product) => {\r\n    if (window.confirm(\"Are you sure you want to delete this product?\")) {\r\n      dispatch(adminRemoveProduct(product));\r\n    }\r\n  };\r\n  const createHandler = () => {\r\n    dispatch(adminCreateProduct({ navigate }));\r\n  };\r\n  return (\r\n    <div>\r\n      <Row>\r\n        <Col>\r\n          <h1>Products</h1>\r\n        </Col>\r\n        <Col className=\"col text-end\">\r\n          <div>\r\n            <Button type=\"button\" onClick={createHandler}>\r\n              Create Product\r\n            </Button>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n      {status === \"pending\" ? (\r\n        <Loading></Loading>\r\n      ) : error ? (\r\n        <ErrorMessageBox variant=\"danger\">{error}</ErrorMessageBox>\r\n      ) : (\r\n        <>\r\n          <table className=\"table\">\r\n            <thead>\r\n              <tr>\r\n                <th>ID</th>\r\n                <th>NAME</th>\r\n                <th>PRICE</th>\r\n                <th>CATEGORY</th>\r\n                <th>BRAND</th>\r\n                <th>IN STOCK</th>\r\n                <th>EDIT</th>\r\n                <th>DELETE</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {products.map((product) => (\r\n                <tr key={product._id}>\r\n                  <td>{product._id}</td>\r\n                  <td>{product.name}</td>\r\n                  <td>â‚¬ {product.price}</td>\r\n                  <td>{product.category}</td>\r\n                  <td>{product.brand}</td>\r\n                  <td>{product.countInStock}</td>\r\n                  <td>\r\n                    <Button\r\n                      variant=\"light\"\r\n                      onClick={() => navigate(`/admin/product/${product._id}`)}\r\n                    >\r\n                      <i className=\"fas fa-wrench\"></i>\r\n                    </Button>\r\n                  </td>\r\n                  <td>\r\n                    <Button\r\n                      variant=\"light\"\r\n                      onClick={() => handleDelete(product)}\r\n                    >\r\n                      <i className=\"fas fa-trash\"></i>\r\n                    </Button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminProductList;\r\n"],"mappings":"AAAA,OAASA,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,SAAT,KAA0B,OAA1B,CACA,MAAOC,QAAP,KAAoB,oBAApB,CACA,MAAOC,gBAAP,KAA4B,4BAA5B,CACA,OAASC,MAAT,CAAiBC,GAAjB,CAAsBC,GAAtB,KAAiC,iBAAjC,CACA,OACEC,kBADF,CAEEC,kBAFF,CAGEC,aAHF,KAIO,2BAJP,CAKA,OAASC,WAAT,KAA4B,kBAA5B,C,6IAEA,GAAMC,iBAAgB,CAAG,QAAnBA,iBAAmB,EAAM,CAC7B,iBAAoCX,WAAW,CAAC,SAACY,KAAD,QAAWA,MAAK,CAACC,QAAjB,EAAD,CAA/C,CAAQA,QAAR,cAAQA,QAAR,CAAkBC,KAAlB,cAAkBA,KAAlB,CAAyBC,MAAzB,cAAyBA,MAAzB,CACA,GAAMC,SAAQ,CAAGN,WAAW,EAA5B,CAEA,GAAMO,SAAQ,CAAGlB,WAAW,EAA5B,CACAE,SAAS,CAAC,UAAM,CACdgB,QAAQ,CAACR,aAAa,EAAd,CAAR,CACD,CAFQ,CAEN,CAACQ,QAAD,CAFM,CAAT,CAIA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACC,OAAD,CAAa,CAChC,GAAIC,MAAM,CAACC,OAAP,CAAe,+CAAf,CAAJ,CAAqE,CACnEJ,QAAQ,CAACV,kBAAkB,CAACY,OAAD,CAAnB,CAAR,CACD,CACF,CAJD,CAKA,GAAMG,cAAa,CAAG,QAAhBA,cAAgB,EAAM,CAC1BL,QAAQ,CAACT,kBAAkB,CAAC,CAAEQ,QAAQ,CAARA,QAAF,CAAD,CAAnB,CAAR,CACD,CAFD,CAGA,mBACE,oCACE,MAAC,GAAD,yBACE,KAAC,GAAD,wBACE,gCADF,EADF,cAIE,KAAC,GAAD,EAAK,SAAS,CAAC,cAAf,uBACE,kCACE,KAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAEM,aAA/B,4BADF,EADF,EAJF,GADF,CAaGP,MAAM,GAAK,SAAX,cACC,KAAC,OAAD,IADD,CAEGD,KAAK,cACP,KAAC,eAAD,EAAiB,OAAO,CAAC,QAAzB,UAAmCA,KAAnC,EADO,cAGP,sCACE,eAAO,SAAS,CAAC,OAAjB,wBACE,oCACE,mCACE,0BADF,cAEE,4BAFF,cAGE,6BAHF,cAIE,gCAJF,cAKE,6BALF,cAME,gCANF,cAOE,4BAPF,cAQE,8BARF,GADF,EADF,cAaE,uBACGD,QAAQ,CAACU,GAAT,CAAa,SAACJ,OAAD,qBACZ,mCACE,oBAAKA,OAAO,CAACK,GAAb,EADF,cAEE,oBAAKL,OAAO,CAACM,IAAb,EAFF,cAGE,gCAAON,OAAO,CAACO,KAAf,GAHF,cAIE,oBAAKP,OAAO,CAACQ,QAAb,EAJF,cAKE,oBAAKR,OAAO,CAACS,KAAb,EALF,cAME,oBAAKT,OAAO,CAACU,YAAb,EANF,cAOE,iCACE,KAAC,MAAD,EACE,OAAO,CAAC,OADV,CAEE,OAAO,CAAE,yBAAMb,SAAQ,0BAAmBG,OAAO,CAACK,GAA3B,EAAd,EAFX,uBAIE,UAAG,SAAS,CAAC,eAAb,EAJF,EADF,EAPF,cAeE,iCACE,KAAC,MAAD,EACE,OAAO,CAAC,OADV,CAEE,OAAO,CAAE,yBAAMN,aAAY,CAACC,OAAD,CAAlB,EAFX,uBAIE,UAAG,SAAS,CAAC,cAAb,EAJF,EADF,EAfF,GAASA,OAAO,CAACK,GAAjB,CADY,EAAb,CADH,EAbF,GADF,EAlBJ,GADF,CAkED,CAnFD,CAqFA,cAAeb,iBAAf"},"metadata":{},"sourceType":"module"}