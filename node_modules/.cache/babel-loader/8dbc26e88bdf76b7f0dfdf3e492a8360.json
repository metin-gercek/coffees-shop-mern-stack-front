{"ast":null,"code":"import _slicedToArray from\"C:/tiedostot/coffees-shop-mern-stack/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{updateProfile}from\"../features/authSlice\";import{toast}from\"react-toastify\";import{Helmet}from'react-helmet-async';import{Form,Button}from'react-bootstrap';import{useDispatch,useSelector}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProfilePage=function ProfilePage(){var userInfo=useSelector(function(state){return state.auth.user;});var _useState=useState(userInfo===null||userInfo===void 0?void 0:userInfo.name),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(userInfo===null||userInfo===void 0?void 0:userInfo.email),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),confirmPassword=_useState8[0],setConfirmPassword=_useState8[1];var dispatch=useDispatch();var submitHandler=function submitHandler(e){e.preventDefault();if(password!==confirmPassword){toast.error('Passwords does not match');return;}var user={name:name,email:email,password:password};dispatch(updateProfile(user));};return/*#__PURE__*/_jsxs(\"div\",{className:\"container small-container\",children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsx(\"title\",{children:\"User Profile\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"my-3\",children:\"User Profile\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"name\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Name\"}),/*#__PURE__*/_jsx(Form.Control,{value:name,onChange:function onChange(e){return setName(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"email\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"password\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"confirmPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Confirm Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",onChange:function onChange(e){return setConfirmPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Update\"})})]})]});};export default ProfilePage;","map":{"version":3,"names":["React","useState","updateProfile","toast","Helmet","Form","Button","useDispatch","useSelector","ProfilePage","userInfo","state","auth","user","name","setName","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","dispatch","submitHandler","e","preventDefault","error","target","value"],"sources":["C:/tiedostot/coffees-shop-mern-stack/client/src/pages/ProfilePage.js"],"sourcesContent":["import React, {  useState } from 'react';\r\nimport { updateProfile } from \"../features/authSlice\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Helmet } from 'react-helmet-async';\r\nimport {Form, Button} from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\n\r\n\r\nconst ProfilePage = () => {\r\n\tconst userInfo = useSelector((state) => state.auth.user)\r\n\tconst [name, setName] = useState(userInfo?.name);\r\n\tconst [email, setEmail] = useState(userInfo?.email);\r\n\tconst [password, setPassword] = useState('');\r\n\tconst [confirmPassword, setConfirmPassword] = useState('');\r\n\tconst dispatch = useDispatch();\r\n\r\n\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault();\r\n\t\tif(password !== confirmPassword) {\r\n\t\t\ttoast.error('Passwords does not match')\r\n\t\t\treturn\r\n\t\t}\r\n\t\tconst user = {\r\n\t\t\tname,\r\n\t\t\temail,\r\n\t\t\tpassword,\r\n\t\t  };\r\n\t\t  \r\n\t\tdispatch(updateProfile(user));\r\n\t\t}\r\n\r\n  return (\r\n\t<div className=\"container small-container\">\r\n      <Helmet>\r\n        <title>User Profile</title>\r\n      </Helmet>\r\n      <h1 className=\"my-3\">User Profile</h1>\r\n      <form onSubmit={submitHandler}>\r\n        <Form.Group className=\"mb-3\" controlId=\"name\">\r\n          <Form.Label>Name</Form.Label>\r\n          <Form.Control\r\n            value={name}\r\n            onChange={(e) => setName(e.target.value)}\r\n            required\r\n          />\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\" controlId=\"email\">\r\n          <Form.Label>Email</Form.Label>\r\n          <Form.Control\r\n            type=\"email\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            required\r\n          />\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\" controlId=\"password\">\r\n          <Form.Label>Password</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\" controlId=\"confirmPassword\">\r\n          <Form.Label>Confirm Password</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            onChange={(e) => setConfirmPassword(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <div className=\"mb-3\">\r\n          <Button type=\"submit\">Update</Button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProfilePage"],"mappings":"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"},"metadata":{},"sourceType":"module"}