{"ast":null,"code":"var _jsxFileName = \"C:\\\\tiedostot\\\\integrify\\\\fs12-fullstack\\\\client\\\\src\\\\components\\\\Header.js\",\n    _s = $RefreshSig$();\n\nimport { Navbar, Container, Nav, Badge, NavDropdown, Button } from \"react-bootstrap\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { logout, reset } from \"../features/authSlice\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport { deleteShippingAddress } from \"features/cartSlice\";\nimport SearchBox from \"./SearchBox\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Header = _ref => {\n  _s();\n\n  let {\n    setSidebarOpenHandler\n  } = _ref;\n  const shippingAddress = JSON.parse(localStorage.getItem(\"shippingAddress\"));\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const cart = useSelector(state => state.cart);\n  const user = useSelector(state => state.auth.user);\n\n  const onLogout = () => {\n    dispatch(deleteShippingAddress(shippingAddress));\n    dispatch(logout());\n    dispatch(reset());\n    navigate(\"/\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(Navbar, {\n    className: \"navbar-color\",\n    variant: \"dark\",\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: setSidebarOpenHandler,\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-bars\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LinkContainer, {\n        to: \"/\",\n        className: \"navbar-text-color\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          alt: \"\",\n          src: \"../logo.svg\",\n          width: \"30\",\n          height: \"30\",\n          className: \"d-inline-block align-top\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 61\n        }, this), ' ', /*#__PURE__*/_jsxDEV(Navbar.Brand, {\n          children: \"Coffees\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Navbar.Collapse, {\n        id: \"basic-navbar-nav\",\n        children: [/*#__PURE__*/_jsxDEV(SearchBox, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Nav, {\n          className: \"me-auto  w-100  justify-content-end\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/cart\",\n            className: \"nav-link\",\n            children: [\"Cart\", cart.cartItems.length > 0 && /*#__PURE__*/_jsxDEV(Badge, {\n              pill: true,\n              bg: \"primary\",\n              children: cart.cartItems.reduce((a, c) => a + c.quantity, 0)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this), user ? /*#__PURE__*/_jsxDEV(NavDropdown, {\n            title: user.name,\n            id: \"basic-nav-dropdown\",\n            children: [/*#__PURE__*/_jsxDEV(LinkContainer, {\n              to: \"/profile\",\n              children: /*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n                children: \"User Profile\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(LinkContainer, {\n              to: \"/orderhistory\",\n              children: /*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n                children: \"Order History\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(NavDropdown.Divider, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              className: \"dropdown-item\",\n              to: \"#signout\",\n              onClick: onLogout,\n              children: \"Sign Out\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Link, {\n            className: \"nav-link\",\n            to: \"/signin\",\n            children: \"Sign In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this), user && user.isAdmin && /*#__PURE__*/_jsxDEV(NavDropdown, {\n            title: \"Admin\",\n            id: \"admin-nav-dropdown\",\n            children: [/*#__PURE__*/_jsxDEV(LinkContainer, {\n              to: \"/admin/dashboard\",\n              children: /*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n                children: \"Dashboard\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(LinkContainer, {\n              to: \"/admin/products\",\n              children: /*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n                children: \"Products\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(LinkContainer, {\n              to: \"/admin/orders\",\n              children: /*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n                children: \"Orders\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(LinkContainer, {\n              to: \"/admin/users\",\n              children: /*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n                children: \"Users\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Header, \"8YAyIFpxAR4mOnQ5mLF9X1RwIEI=\", false, function () {\n  return [useNavigate, useDispatch, useSelector, useSelector];\n});\n\n_c = Header;\nexport default Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["Navbar","Container","Nav","Badge","NavDropdown","Button","Link","useNavigate","useSelector","useDispatch","logout","reset","LinkContainer","deleteShippingAddress","SearchBox","Header","setSidebarOpenHandler","shippingAddress","JSON","parse","localStorage","getItem","navigate","dispatch","cart","state","user","auth","onLogout","cartItems","length","reduce","a","c","quantity","name","isAdmin"],"sources":["C:/tiedostot/integrify/fs12-fullstack/client/src/components/Header.js"],"sourcesContent":["import {\r\n  Navbar,\r\n  Container,\r\n  Nav,\r\n  Badge,\r\n  NavDropdown,\r\n  Button,\r\n} from \"react-bootstrap\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { logout, reset } from \"../features/authSlice\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport { deleteShippingAddress } from \"features/cartSlice\";\r\nimport SearchBox from \"./SearchBox\";\r\n\r\n\r\n\r\nconst Header = ({ setSidebarOpenHandler }) => {\r\n  const shippingAddress = JSON.parse(localStorage.getItem(\"shippingAddress\"));\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const cart = useSelector((state) => state.cart);\r\n  const user = useSelector((state) => state.auth.user);\r\n  const onLogout = () => {\r\n    dispatch(deleteShippingAddress(shippingAddress));\r\n    dispatch(logout());\r\n    dispatch(reset());\r\n    navigate(\"/\");\r\n  };\r\n\r\n  return (\r\n    <Navbar className=\"navbar-color\" variant=\"dark\">\r\n      <Container>\r\n        <Button onClick={setSidebarOpenHandler}>\r\n          <i className=\"fas fa-bars\"></i>\r\n        </Button>\r\n        <LinkContainer to=\"/\" className=\"navbar-text-color\"><img\r\n              alt=\"\"\r\n              src=\"../logo.svg\"\r\n              width=\"30\"\r\n              height=\"30\"\r\n              className=\"d-inline-block align-top\"\r\n            />{' '}\r\n          <Navbar.Brand >Coffees</Navbar.Brand>\r\n        </LinkContainer>\r\n        <Navbar.Collapse id=\"basic-navbar-nav\">\r\n          <SearchBox />\r\n          <Nav className=\"me-auto  w-100  justify-content-end\">\r\n            <Link to=\"/cart\" className=\"nav-link\">\r\n              Cart\r\n              {cart.cartItems.length > 0 && (\r\n                <Badge pill bg=\"primary\">\r\n                  {cart.cartItems.reduce((a, c) => a + c.quantity, 0)}\r\n                </Badge>\r\n              )}\r\n            </Link>\r\n            {user ? (\r\n              <NavDropdown title={user.name} id=\"basic-nav-dropdown\">\r\n                <LinkContainer to=\"/profile\">\r\n                  <NavDropdown.Item>User Profile</NavDropdown.Item>\r\n                </LinkContainer>\r\n                <LinkContainer to=\"/orderhistory\">\r\n                  <NavDropdown.Item>Order History</NavDropdown.Item>\r\n                </LinkContainer>\r\n                <NavDropdown.Divider />\r\n                <Link\r\n                  className=\"dropdown-item\"\r\n                  to=\"#signout\"\r\n                  onClick={onLogout}\r\n                >\r\n                  Sign Out\r\n                </Link>\r\n              </NavDropdown>\r\n            ) : (\r\n              <Link className=\"nav-link\" to=\"/signin\">\r\n                Sign In\r\n              </Link>\r\n            )}\r\n\t\t\t {user && user.isAdmin && (\r\n                    <NavDropdown title=\"Admin\" id=\"admin-nav-dropdown\">\r\n                      <LinkContainer to=\"/admin/dashboard\">\r\n                        <NavDropdown.Item>Dashboard</NavDropdown.Item>\r\n                      </LinkContainer>\r\n                      <LinkContainer to=\"/admin/products\">\r\n                        <NavDropdown.Item>Products</NavDropdown.Item>\r\n                      </LinkContainer>\r\n                      <LinkContainer to=\"/admin/orders\">\r\n                        <NavDropdown.Item>Orders</NavDropdown.Item>\r\n                      </LinkContainer>\r\n                      <LinkContainer to=\"/admin/users\">\r\n                        <NavDropdown.Item>Users</NavDropdown.Item>\r\n                      </LinkContainer>\r\n                    </NavDropdown>\r\n                  )}\r\n          </Nav>\r\n        </Navbar.Collapse>\r\n      </Container>\r\n    </Navbar>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}