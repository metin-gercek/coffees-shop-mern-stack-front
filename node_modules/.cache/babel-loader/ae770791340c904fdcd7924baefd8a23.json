{"ast":null,"code":"import{Navbar,Container,Nav,Badge,NavDropdown,Button}from\"react-bootstrap\";import{Link}from\"react-router-dom\";import{useSelector,useDispatch}from\"react-redux\";import{logout,reset}from\"../features/authSlice\";import{LinkContainer}from\"react-router-bootstrap\";import{deleteShippingAddress}from\"features/cartSlice\";import logo from\"../logo/logo.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Header=function Header(_ref){var setSidebarOpenHandler=_ref.setSidebarOpenHandler;var shippingAddress=JSON.parse(localStorage.getItem(\"shippingAddress\"));//  const navigate = useNavigate();\nvar dispatch=useDispatch();var cart=useSelector(function(state){return state.cart;});var user=useSelector(function(state){return state.auth.user;});var onLogout=function onLogout(){dispatch(deleteShippingAddress(shippingAddress));dispatch(logout());dispatch(reset());window.location.href='/signin';};return/*#__PURE__*/_jsx(Navbar,{className:\"navbar-color\",variant:\"dark\",expand:\"lg\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Button,{onClick:setSidebarOpenHandler,children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-bars\"})}),/*#__PURE__*/_jsx(LinkContainer,{to:\"/\",className:\"navbar-text-color\",children:/*#__PURE__*/_jsxs(Navbar.Brand,{children:[/*#__PURE__*/_jsx(\"img\",{src:logo,width:\"50\",height:\"50\",className:\"\",alt:\"Brand logo\"}),\"  \",\"Coffees\"]})}),/*#__PURE__*/_jsx(Navbar.Toggle,{\"aria-controls\":\"basic-navbar-nav\"}),/*#__PURE__*/_jsx(Navbar.Collapse,{id:\"basic-navbar-nav\",children:/*#__PURE__*/_jsxs(Nav,{className:\"me-auto  w-100  justify-content-end\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/cart\",className:\"nav-link\",children:[\"Cart\",cart.cartItems.length>0&&/*#__PURE__*/_jsx(Badge,{pill:true,bg:\"primary\",children:cart.cartItems.reduce(function(a,c){return a+c.quantity;},0)})]}),user?/*#__PURE__*/_jsxs(NavDropdown,{title:user.name,id:\"basic-nav-dropdown\",children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"/profile\",children:/*#__PURE__*/_jsx(NavDropdown.Item,{children:\"User Profile\"})}),/*#__PURE__*/_jsx(LinkContainer,{to:\"/orderhistory\",children:/*#__PURE__*/_jsx(NavDropdown.Item,{children:\"Order History\"})}),/*#__PURE__*/_jsx(NavDropdown.Divider,{}),/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"#signout\",onClick:onLogout,children:\"Sign Out\"})]}):/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/signin\",children:\"Sign In\"}),user&&user.isAdmin&&/*#__PURE__*/_jsxs(NavDropdown,{title:\"Admin\",id:\"admin-nav-dropdown\",children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"/admin/dashboard\",children:/*#__PURE__*/_jsx(NavDropdown.Item,{children:\"Dashboard\"})}),/*#__PURE__*/_jsx(LinkContainer,{to:\"/admin/products\",children:/*#__PURE__*/_jsx(NavDropdown.Item,{children:\"Products\"})}),/*#__PURE__*/_jsx(LinkContainer,{to:\"/admin/orders\",children:/*#__PURE__*/_jsx(NavDropdown.Item,{children:\"Orders\"})}),/*#__PURE__*/_jsx(LinkContainer,{to:\"/admin/users\",children:/*#__PURE__*/_jsx(NavDropdown.Item,{children:\"Users\"})})]})]})})]})});};export default Header;","map":{"version":3,"names":["Navbar","Container","Nav","Badge","NavDropdown","Button","Link","useSelector","useDispatch","logout","reset","LinkContainer","deleteShippingAddress","logo","Header","setSidebarOpenHandler","shippingAddress","JSON","parse","localStorage","getItem","dispatch","cart","state","user","auth","onLogout","window","location","href","cartItems","length","reduce","a","c","quantity","name","isAdmin"],"sources":["C:/tiedostot/coffees-shop-mern-stack/client/src/components/Header.js"],"sourcesContent":["import {\r\n  Navbar,\r\n  Container,\r\n  Nav,\r\n  Badge,\r\n  NavDropdown,\r\n  Button,\r\n} from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { logout, reset } from \"../features/authSlice\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport { deleteShippingAddress } from \"features/cartSlice\";\r\nimport logo from \"../logo/logo.png\";\r\n\r\nconst Header = ({ setSidebarOpenHandler }) => {\r\n  const shippingAddress = JSON.parse(localStorage.getItem(\"shippingAddress\"));\r\n//  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const cart = useSelector((state) => state.cart);\r\n  const user = useSelector((state) => state.auth.user);\r\n  const onLogout = () => {\r\n    dispatch(deleteShippingAddress(shippingAddress));\r\n    dispatch(logout());\r\n    dispatch(reset());\r\n\twindow.location.href = '/signin'\r\n  };\r\n\r\n  return (\r\n    <Navbar className=\"navbar-color\" variant=\"dark\" expand=\"lg\">\r\n      <Container>\r\n        <Button onClick={setSidebarOpenHandler}>\r\n          <i className=\"fas fa-bars\"></i>\r\n        </Button>\r\n        <LinkContainer to=\"/\" className=\"navbar-text-color\">\r\n          <Navbar.Brand>\r\n            <img\r\n              src={logo}\r\n              width=\"50\"\r\n              height=\"50\"\r\n              className=\"\"\r\n              alt=\"Brand logo\"\r\n            />\r\n            {\"  \"}\r\n            Coffees\r\n          </Navbar.Brand>\r\n        </LinkContainer>\r\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n        <Navbar.Collapse id=\"basic-navbar-nav\">\r\n          <Nav className=\"me-auto  w-100  justify-content-end\">\r\n            <Link to=\"/cart\" className=\"nav-link\">\r\n              Cart\r\n              {cart.cartItems.length > 0 && (\r\n                <Badge pill bg=\"primary\">\r\n                  {cart.cartItems.reduce((a, c) => a + c.quantity, 0)}\r\n                </Badge>\r\n              )}\r\n            </Link>\r\n            {user ? (\r\n              <NavDropdown title={user.name} id=\"basic-nav-dropdown\">\r\n                <LinkContainer to=\"/profile\">\r\n                  <NavDropdown.Item>User Profile</NavDropdown.Item>\r\n                </LinkContainer>\r\n                <LinkContainer to=\"/orderhistory\">\r\n                  <NavDropdown.Item>Order History</NavDropdown.Item>\r\n                </LinkContainer>\r\n                <NavDropdown.Divider />\r\n                <Link\r\n                  className=\"dropdown-item\"\r\n                  to=\"#signout\"\r\n                  onClick={onLogout}\r\n                >\r\n                  Sign Out\r\n                </Link>\r\n              </NavDropdown>\r\n            ) : (\r\n              <Link className=\"nav-link\" to=\"/signin\">\r\n                Sign In\r\n              </Link>\r\n            )}\r\n            {user && user.isAdmin && (\r\n              <NavDropdown title=\"Admin\" id=\"admin-nav-dropdown\">\r\n                <LinkContainer to=\"/admin/dashboard\">\r\n                  <NavDropdown.Item>Dashboard</NavDropdown.Item>\r\n                </LinkContainer>\r\n                <LinkContainer to=\"/admin/products\">\r\n                  <NavDropdown.Item>Products</NavDropdown.Item>\r\n                </LinkContainer>\r\n                <LinkContainer to=\"/admin/orders\">\r\n                  <NavDropdown.Item>Orders</NavDropdown.Item>\r\n                </LinkContainer>\r\n                <LinkContainer to=\"/admin/users\">\r\n                  <NavDropdown.Item>Users</NavDropdown.Item>\r\n                </LinkContainer>\r\n              </NavDropdown>\r\n            )}\r\n          </Nav>\r\n        </Navbar.Collapse>\r\n      </Container>\r\n    </Navbar>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}