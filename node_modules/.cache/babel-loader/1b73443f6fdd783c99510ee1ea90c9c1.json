{"ast":null,"code":"var _jsxFileName = \"C:\\\\tiedostot\\\\integrify\\\\fs12-fullstack\\\\client\\\\src\\\\pages\\\\UserEdit.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport Container from \"react-bootstrap/Container\";\nimport Form from \"react-bootstrap/Form\";\nimport { Helmet } from \"react-helmet-async\";\nimport Loading from \"../components/Loading\";\nimport ErrorMessageBox from \"../components/ErrorMessageBox\";\nimport Button from \"react-bootstrap/Button\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { adminUpdateUser, updateUser } from \"features/authSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UserEdit = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const params = useParams(); // /product/:id\n\n  const {\n    id: userId\n  } = params;\n  const {\n    updatedUserData,\n    isError,\n    isLoading\n  } = useSelector(state => state.auth);\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [isBanned, setIsBanned] = useState(false);\n  useEffect(() => {\n    setName(updatedUserData.name);\n    setEmail(updatedUserData.email);\n    setIsAdmin(updatedUserData.isAdmin);\n    setIsBanned(updatedUserData.isBanned);\n    dispatch(adminUpdateUser(userId));\n  }, [userId, dispatch, updatedUserData.name, updatedUserData.email, updatedUserData.isAdmin, updatedUserData.isBanned]);\n\n  const submitHandler = async e => {\n    e.preventDefault();\n    const updateData = {\n      _id: userId,\n      name,\n      email,\n      isAdmin,\n      isBanned\n    };\n    dispatch(updateUser({\n      navigate,\n      updateData\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"small-container\",\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: [\"Edit User $\", userId]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Edit User \", userId]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), isLoading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this) : isError ? /*#__PURE__*/_jsxDEV(ErrorMessageBox, {\n      variant: \"danger\",\n      children: isError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: submitHandler,\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-3\",\n        controlId: \"name\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          value: name,\n          onChange: e => setName(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-3\",\n        controlId: \"email\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          value: email,\n          type: \"email\",\n          onChange: e => setEmail(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Form.Check, {\n        className: \"mb-3\",\n        type: \"checkbox\",\n        id: \"isAdmin\",\n        label: \"isAdmin\",\n        checked: isAdmin,\n        onChange: e => setIsAdmin(e.target.checked)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          children: \"Update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 2\n  }, this);\n};\n\n_s(UserEdit, \"ueyr3nIf+CZTzPiwyRT6HIVq308=\", false, function () {\n  return [useDispatch, useNavigate, useParams, useSelector];\n});\n\n_c = UserEdit;\nexport default UserEdit;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserEdit\");","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","Container","Form","Helmet","Loading","ErrorMessageBox","Button","useDispatch","useSelector","adminUpdateUser","updateUser","UserEdit","dispatch","navigate","params","id","userId","updatedUserData","isError","isLoading","state","auth","name","setName","email","setEmail","isAdmin","setIsAdmin","isBanned","setIsBanned","submitHandler","e","preventDefault","updateData","_id","target","value","checked"],"sources":["C:/tiedostot/integrify/fs12-fullstack/client/src/pages/UserEdit.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport { Helmet } from \"react-helmet-async\";\r\nimport Loading from \"../components/Loading\";\r\nimport ErrorMessageBox from \"../components/ErrorMessageBox\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { adminUpdateUser, updateUser } from \"features/authSlice\";\r\n\r\nconst UserEdit = () => {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  const params = useParams(); // /product/:id\r\n  const { id: userId } = params;\r\n  const { updatedUserData, isError, isLoading } = useSelector(\r\n    (state) => state.auth\r\n  );\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [isAdmin, setIsAdmin] = useState(false);\r\n  const [isBanned, setIsBanned] = useState(false);\r\n \r\n\r\n  useEffect(() => {\r\n    setName(updatedUserData.name);\r\n    setEmail(updatedUserData.email);\r\n    setIsAdmin(updatedUserData.isAdmin);\r\n    setIsBanned(updatedUserData.isBanned);\r\n    \r\n\r\n    dispatch(adminUpdateUser(userId));\r\n  }, [\r\n    userId,\r\n    dispatch,\r\n\tupdatedUserData.name,\r\n\tupdatedUserData.email,\r\n\tupdatedUserData.isAdmin,\r\n\tupdatedUserData.isBanned\r\n  ]);\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n    const updateData = {\r\n      _id: userId,\r\n      name,\r\n      email,\r\n      isAdmin,\r\n      isBanned,\r\n     \r\n    };\r\n    dispatch(updateUser({ navigate, updateData }));\r\n  };\r\n  return (\r\n\t<Container className=\"small-container\">\r\n      <Helmet>\r\n        <title>Edit User ${userId}</title>\r\n      </Helmet>\r\n      <h1>Edit User {userId}</h1>\r\n\r\n      {isLoading ? (\r\n        <Loading></Loading>\r\n      ) : isError ? (\r\n        <ErrorMessageBox variant=\"danger\">{isError}</ErrorMessageBox>\r\n      ) : (\r\n        <Form onSubmit={submitHandler}>\r\n          <Form.Group className=\"mb-3\" controlId=\"name\">\r\n            <Form.Label>Name</Form.Label>\r\n            <Form.Control\r\n              value={name}\r\n              onChange={(e) => setName(e.target.value)}\r\n              required\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"email\">\r\n            <Form.Label>Email</Form.Label>\r\n            <Form.Control\r\n              value={email}\r\n              type=\"email\"\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              required\r\n            />\r\n          </Form.Group>\r\n\r\n          <Form.Check\r\n            className=\"mb-3\"\r\n            type=\"checkbox\"\r\n            id=\"isAdmin\"\r\n            label=\"isAdmin\"\r\n            checked={isAdmin}\r\n            onChange={(e) => setIsAdmin(e.target.checked)}\r\n          />\r\n\r\n          <div className=\"mb-3\">\r\n            <Button type=\"submit\">\r\n              Update\r\n            </Button>\r\n          </div>\r\n        </Form>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default UserEdit;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}