{"ast":null,"code":"import{useParams}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import{useEffect}from\"react\";import{productFetch}from\"../features/productsSlice\";import{Helmet}from\"react-helmet-async\";import Rating from\"components/Rating\";import Loading from\"components/Loading\";import ErrorMessageBox from\"components/ErrorMessageBox\";import{Row,Col,ListGroup,Card,Badge,Button}from\"react-bootstrap\";import{addToCart}from\"features/cartSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SingleProductPage=function SingleProductPage(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.products;}),singleProduct=_useSelector.singleProduct,error=_useSelector.error,status=_useSelector.status;var _useParams=useParams(),id=_useParams.id;useEffect(function(){if(id){dispatch(productFetch(id));}},[id,dispatch]);var handleAddtoCart=function handleAddtoCart(product){dispatch(addToCart(product));};return status===\"pending\"?/*#__PURE__*/_jsx(Loading,{}):error?/*#__PURE__*/_jsx(ErrorMessageBox,{variant:\"danger\",children:error}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsx(\"img\",{className:\"img-large\",src:singleProduct===null||singleProduct===void 0?void 0:singleProduct.image,alt:singleProduct===null||singleProduct===void 0?void 0:singleProduct.name})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsx(\"title\",{children:singleProduct===null||singleProduct===void 0?void 0:singleProduct.name})}),/*#__PURE__*/_jsx(\"h1\",{children:singleProduct===null||singleProduct===void 0?void 0:singleProduct.name})]}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(Rating,{rating:singleProduct===null||singleProduct===void 0?void 0:singleProduct.rating,numReviews:singleProduct===null||singleProduct===void 0?void 0:singleProduct.numReviews})}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[\"Pirce : \\u20AC\",singleProduct===null||singleProduct===void 0?void 0:singleProduct.price]}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[\"Description:\",/*#__PURE__*/_jsx(\"p\",{children:singleProduct===null||singleProduct===void 0?void 0:singleProduct.description})]})]})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Price:\"}),/*#__PURE__*/_jsxs(Col,{children:[\"\\u20AC\",singleProduct===null||singleProduct===void 0?void 0:singleProduct.price,\" \",/*#__PURE__*/_jsx(Badge,{bg:\"info\",children:\"incl. 24% VAT\"})]})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Status:\"}),/*#__PURE__*/_jsx(Col,{children:(singleProduct===null||singleProduct===void 0?void 0:singleProduct.countInStock)>0?/*#__PURE__*/_jsx(Badge,{bg:\"success\",children:\"In Stock\"}):/*#__PURE__*/_jsx(Badge,{bg:\"danger\",children:\"Unavailable\"})})]})}),(singleProduct===null||singleProduct===void 0?void 0:singleProduct.countInStock)>0&&/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(\"div\",{className:\"d-grid\",children:singleProduct.countInStock===0?/*#__PURE__*/_jsx(Button,{variant:\"light\",disabled:true,onClick:function onClick(){return handleAddtoCart(singleProduct);},children:\"Out of stock\"}):/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return handleAddtoCart(singleProduct);},children:\"Add to cart\"})})})]})})})})]})});};export default SingleProductPage;","map":{"version":3,"names":["useParams","useDispatch","useSelector","useEffect","productFetch","Helmet","Rating","Loading","ErrorMessageBox","Row","Col","ListGroup","Card","Badge","Button","addToCart","SingleProductPage","dispatch","state","products","singleProduct","error","status","id","handleAddtoCart","product","image","name","rating","numReviews","price","description","countInStock"],"sources":["C:/tiedostot/coffees-shop-mern-stack/client/src/pages/SingleProductPage.js"],"sourcesContent":["import { useParams } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\nimport { productFetch } from \"../features/productsSlice\";\r\nimport { Helmet } from \"react-helmet-async\";\r\nimport Rating from \"components/Rating\";\r\nimport Loading from \"components/Loading\";\r\nimport ErrorMessageBox from \"components/ErrorMessageBox\";\r\nimport { Row, Col, ListGroup, Card, Badge, Button } from \"react-bootstrap\";\r\nimport { addToCart } from \"features/cartSlice\";\r\n\r\nconst SingleProductPage = () => {\r\n  const dispatch = useDispatch();\r\n  const { singleProduct, error, status } = useSelector(\r\n    (state) => state.products\r\n  );\r\n  const { id } = useParams();\r\n  useEffect(() => {\r\n    if (id) {\r\n      dispatch(productFetch(id));\r\n    }\r\n  }, [id, dispatch]);\r\n\r\n  const handleAddtoCart = (product) => {\r\n    dispatch(addToCart(product));\r\n  };\r\n\r\n  return status === \"pending\" ? (\r\n    <Loading />\r\n  ) : error ? (\r\n    <ErrorMessageBox variant=\"danger\">{error}</ErrorMessageBox>\r\n  ) : (\r\n    <div>\r\n      <Row>\r\n        <Col md={6}>\r\n          <img\r\n            className=\"img-large\"\r\n            src={singleProduct?.image}\r\n            alt={singleProduct?.name}\r\n          ></img>\r\n        </Col>\r\n        <Col md={3}>\r\n          <ListGroup variant=\"flush\">\r\n            <ListGroup.Item>\r\n              <Helmet>\r\n                <title>{singleProduct?.name}</title>\r\n              </Helmet>\r\n              <h1>{singleProduct?.name}</h1>\r\n            </ListGroup.Item>\r\n            <ListGroup.Item>\r\n              <Rating\r\n                rating={singleProduct?.rating}\r\n                numReviews={singleProduct?.numReviews}\r\n              ></Rating>\r\n            </ListGroup.Item>\r\n            <ListGroup.Item>Pirce : €{singleProduct?.price}</ListGroup.Item>\r\n            <ListGroup.Item>\r\n              Description:\r\n              <p>{singleProduct?.description}</p>\r\n            </ListGroup.Item>\r\n          </ListGroup>\r\n        </Col>\r\n        <Col md={3}>\r\n          <Card>\r\n            <Card.Body>\r\n              <ListGroup variant=\"flush\">\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Price:</Col>\r\n                    <Col>€{singleProduct?.price} <Badge bg=\"info\">incl. 24% VAT</Badge></Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Status:</Col>\r\n                    <Col>\r\n                      {singleProduct?.countInStock > 0 ? (\r\n                        <Badge bg=\"success\">In Stock</Badge>\r\n                      ) : (\r\n                        <Badge bg=\"danger\">Unavailable</Badge>\r\n                      )}\r\n                    </Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n\r\n                {singleProduct?.countInStock > 0 && (\r\n                  <ListGroup.Item>\r\n                    <div className=\"d-grid\">\r\n                      {singleProduct.countInStock === 0 ? (\r\n                        <Button\r\n                          variant=\"light\"\r\n                          disabled\r\n                          onClick={() => handleAddtoCart(singleProduct)}\r\n                        >\r\n                          Out of stock\r\n                        </Button>\r\n                      ) : (\r\n                        <Button onClick={() => handleAddtoCart(singleProduct)}>\r\n                          Add to cart\r\n                        </Button>\r\n                      )}\r\n                    </div>\r\n                  </ListGroup.Item>\r\n                )}\r\n              </ListGroup>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SingleProductPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}