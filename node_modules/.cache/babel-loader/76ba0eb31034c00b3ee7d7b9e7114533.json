{"ast":null,"code":"import{useSelector,useDispatch}from\"react-redux\";import{Helmet}from\"react-helmet-async\";import{Row,Col,ListGroup,Button,Card}from\"react-bootstrap\";import ErrorMessageBox from\"../components/ErrorMessageBox\";import{Link,useNavigate}from\"react-router-dom\";import{decreaseCart,increaseCart,removeFromCart,clearAllCart}from\"features/cartSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Cart=function Cart(){var navigate=useNavigate();var _useSelector=useSelector(function(state){return state.cart;}),cartItems=_useSelector.cartItems;var _useSelector2=useSelector(function(state){return state.auth;}),user=_useSelector2.user;var dispatch=useDispatch();var decreaseCartHandler=function decreaseCartHandler(cartItems){dispatch(decreaseCart(cartItems));};var increaseCartHandler=function increaseCartHandler(cartItems){dispatch(increaseCart(cartItems));};var removeItemHandler=function removeItemHandler(cartItems){dispatch(removeFromCart(cartItems));};var clearAllCartHAndler=function clearAllCartHAndler(cartItems){dispatch(clearAllCart(cartItems));};var checkOutHandler=function checkOutHandler(){navigate(\"/signin?redirect=/shipping\");};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsx(\"title\",{children:\"Shopping Cart\"})}),/*#__PURE__*/_jsx(\"h1\",{children:\"Shopping Cart\"}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{md:8,children:[cartItems.length===0?/*#__PURE__*/_jsxs(ErrorMessageBox,{children:[\"Cart is empty. \",/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Go Shopping\"})]}):/*#__PURE__*/_jsx(ListGroup,{children:cartItems.map(function(item){return/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{className:\"align-items-center\",children:[/*#__PURE__*/_jsxs(Col,{md:4,children:[/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:item.name,className:\"img-fluid rounded img-thumbnail\"}),\" \",/*#__PURE__*/_jsxs(Link,{to:\"/product/\".concat(item._id),children:[item.name.slice(0,21),\"...\"]})]}),/*#__PURE__*/_jsxs(Col,{md:3,children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return decreaseCartHandler(item);},variant:\"light\",disabled:item.quantity===1,children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-minus-circle\"})}),\" \",/*#__PURE__*/_jsx(\"span\",{children:item.quantity}),\" \",/*#__PURE__*/_jsx(Button,{variant:\"light\",onClick:function onClick(){return increaseCartHandler(item);},disabled:item.quantity>=item.countInStock,children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus-circle\"})})]}),/*#__PURE__*/_jsxs(Col,{md:3,children:[\"\\u20AC\",item.price]}),/*#__PURE__*/_jsx(Col,{md:2,children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return removeItemHandler(item);},variant:\"light\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash\"})})})]})},item._id);})}),/*#__PURE__*/_jsx(Button,{className:\"mt-2\",type:\"button\",onClick:function onClick(){return clearAllCartHAndler();},variant:\"primary\",disabled:cartItems.length===0,children:\"Clear All Cart\"})]}),/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(\"h3\",{children:[\"Total (\",cartItems.reduce(function(a,c){return a+c.quantity;},0),\" \",\"items) : \\u20AC\",cartItems.reduce(function(a,c){return a+c.price*c.quantity;},0)]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(\"div\",{className:\"d-grid\",children:user!==null&&user!==void 0&&user.isBanned?/*#__PURE__*/_jsx(Button,{type:\"button\",variant:\"primary\",disabled:true,children:\"Sorry! You're banned!\"}):/*#__PURE__*/_jsx(Button,{type:\"button\",variant:\"primary\",disabled:cartItems.length===0,onClick:checkOutHandler,children:\"Proceed to Checkout\"})})})]})})})})]})]});};export default Cart;","map":{"version":3,"names":["useSelector","useDispatch","Helmet","Row","Col","ListGroup","Button","Card","ErrorMessageBox","Link","useNavigate","decreaseCart","increaseCart","removeFromCart","clearAllCart","Cart","navigate","state","cart","cartItems","auth","user","dispatch","decreaseCartHandler","increaseCartHandler","removeItemHandler","clearAllCartHAndler","checkOutHandler","length","map","item","image","name","_id","slice","quantity","countInStock","price","reduce","a","c","isBanned"],"sources":["C:/tiedostot/coffees-shop-mern-stack/client/src/pages/Cart.js"],"sourcesContent":["import { useSelector, useDispatch } from \"react-redux\";\r\nimport { Helmet } from \"react-helmet-async\";\r\nimport { Row, Col, ListGroup, Button, Card } from \"react-bootstrap\";\r\nimport ErrorMessageBox from \"../components/ErrorMessageBox\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport {\r\n  decreaseCart,\r\n  increaseCart,\r\n  removeFromCart,\r\n  clearAllCart,\r\n} from \"features/cartSlice\";\r\n\r\nconst Cart = () => {\r\n  const navigate = useNavigate();\r\n  const { cartItems } = useSelector((state) => state.cart);\r\n  const { user } = useSelector((state) => state.auth);\r\n  const dispatch = useDispatch();\r\n  const decreaseCartHandler = (cartItems) => {\r\n    dispatch(decreaseCart(cartItems));\r\n  };\r\n  const increaseCartHandler = (cartItems) => {\r\n    dispatch(increaseCart(cartItems));\r\n  };\r\n  const removeItemHandler = (cartItems) => {\r\n    dispatch(removeFromCart(cartItems));\r\n  };\r\n  const clearAllCartHAndler = (cartItems) => {\r\n    dispatch(clearAllCart(cartItems));\r\n  };\r\n\r\n  const checkOutHandler = () => {\r\n    navigate(\"/signin?redirect=/shipping\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Helmet>\r\n        <title>Shopping Cart</title>\r\n      </Helmet>\r\n      <h1>Shopping Cart</h1>\r\n      <Row>\r\n        <Col md={8}>\r\n          {cartItems.length === 0 ? (\r\n            <ErrorMessageBox>\r\n              Cart is empty. <Link to=\"/\">Go Shopping</Link>\r\n            </ErrorMessageBox>\r\n          ) : (\r\n            <ListGroup>\r\n              {cartItems.map((item) => (\r\n                <ListGroup.Item key={item._id}>\r\n                  <Row className=\"align-items-center\">\r\n                    <Col md={4}>\r\n                      <img\r\n                        src={item.image}\r\n                        alt={item.name}\r\n                        className=\"img-fluid rounded img-thumbnail\"\r\n                      ></img>{\" \"}\r\n                      <Link to={`/product/${item._id}`}>\r\n                        {item.name.slice(0, 21)}...\r\n                      </Link>\r\n                    </Col>\r\n\r\n                    <Col md={3}>\r\n                      <Button\r\n                        onClick={() => decreaseCartHandler(item)}\r\n                        variant=\"light\"\r\n                        disabled={item.quantity === 1}\r\n                      >\r\n                        <i className=\"fas fa-minus-circle\"></i>\r\n                      </Button>{\" \"}\r\n                      <span>{item.quantity}</span>{\" \"}\r\n                      <Button\r\n                        variant=\"light\"\r\n                        onClick={() => increaseCartHandler(item)}\r\n                        disabled={item.quantity >= item.countInStock}\r\n                      >\r\n                        <i className=\"fas fa-plus-circle\"></i>\r\n                      </Button>\r\n                    </Col>\r\n                    <Col md={3}>€{item.price}</Col>\r\n                    <Col md={2}>\r\n                      <Button\r\n                        onClick={() => removeItemHandler(item)}\r\n                        variant=\"light\"\r\n                      >\r\n                        <i className=\"fas fa-trash\"></i>\r\n                      </Button>\r\n                    </Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n              ))}\r\n            </ListGroup>\r\n          )}\r\n          <Button\r\n            className=\"mt-2\"\r\n            type=\"button\"\r\n            onClick={() => clearAllCartHAndler()}\r\n            variant=\"primary\"\r\n            disabled={cartItems.length === 0}\r\n          >\r\n            Clear All Cart\r\n          </Button>\r\n        </Col>\r\n        <Col md={4}>\r\n          <Card>\r\n            <Card.Body>\r\n              <ListGroup variant=\"flush\">\r\n                <ListGroup.Item>\r\n                  <h3>\r\n                    Total ({cartItems.reduce((a, c) => a + c.quantity, 0)}{\" \"}\r\n                    items) : €\r\n                    {cartItems.reduce((a, c) => a + c.price * c.quantity, 0)}\r\n                  </h3>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <div className=\"d-grid\">\r\n                    {user?.isBanned ? (\r\n                      <Button\r\n\t\t\t\t\t  type=\"button\"\r\n\t\t\t\t\t  variant=\"primary\"\r\n                        disabled\r\n                      >\r\n                        Sorry! You're banned!\r\n                      </Button>\r\n                    ) : (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\tdisabled={cartItems.length === 0}\r\n\t\t\t\t\t\tonClick={checkOutHandler}\r\n\t\t\t\t\t  >\r\n\t\t\t\t\t\tProceed to Checkout\r\n\t\t\t\t\t  </Button>\r\n                    )}\r\n                \r\n                  </div>\r\n                </ListGroup.Item>\r\n              </ListGroup>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}