{"ast":null,"code":"import axios from \"axios\";\nimport { toast } from \"react-toastify\";\nimport { getError } from \"utils\";\nconst API_URL = \"/api/v1/products/\"; //get all products\n\nconst productsFetch = async () => {\n  try {\n    const result = await axios.get(API_URL);\n    return result === null || result === void 0 ? void 0 : result.data;\n  } catch (error) {\n    toast.error(getError(error));\n  }\n}; // get one product\n\n\nconst productFetch = async id => {\n  try {\n    const result = await axios.get(API_URL + \"product/\" + id);\n    return result === null || result === void 0 ? void 0 : result.data;\n  } catch (error) {\n    toast.error(getError(error));\n  }\n}; //remove product\n\n\nconst adminRemoveProduct = async product => {\n  try {\n    const userLocal = JSON.parse(localStorage.getItem(\"user\"));\n    const result = await axios.delete(API_URL + product._id, {\n      headers: {\n        authorization: `Bearer ${userLocal.token}`\n      }\n    });\n    toast.success(\"Product Deleted Successfully\");\n    window.location.reload();\n    return result === null || result === void 0 ? void 0 : result.data;\n  } catch (error) {\n    toast.error(getError(error));\n  }\n}; //admin create product\n\n\nconst adminCreateProduct = async _ref => {\n  let {\n    navigate\n  } = _ref;\n\n  try {\n    const userLocal = JSON.parse(localStorage.getItem(\"user\"));\n    const result = await axios.post(\"/api/v1/products\", {}, {\n      headers: {\n        authorization: `Bearer ${userLocal.token}`\n      }\n    });\n    toast.success(\"product created successfully\");\n    navigate(`/admin/product/${result === null || result === void 0 ? void 0 : result.data.product._id}`);\n    return result === null || result === void 0 ? void 0 : result.data;\n  } catch (error) {\n    toast.error(getError(error));\n  }\n};\n\nconst productService = {\n  productsFetch,\n  productFetch,\n  adminRemoveProduct,\n  adminCreateProduct\n};\nexport default productService;","map":{"version":3,"names":["axios","toast","getError","API_URL","productsFetch","result","get","data","error","productFetch","id","adminRemoveProduct","product","userLocal","JSON","parse","localStorage","getItem","delete","_id","headers","authorization","token","success","window","location","reload","adminCreateProduct","navigate","post","productService"],"sources":["C:/tiedostot/integrify/fs12-fullstack/client/src/features/Services/productService.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\nimport { getError } from \"utils\";\r\n\r\nconst API_URL = \"/api/v1/products/\";\r\n\r\n//get all products\r\nconst productsFetch = async () => {\r\n  try {\r\n    const result = await axios.get(API_URL);\r\n    return result?.data;\r\n  } catch (error) {\r\n    toast.error(getError(error));\r\n  }\r\n};\r\n\r\n// get one product\r\nconst productFetch = async (id) => {\r\n  try {\r\n    const result = await axios.get(API_URL + \"product/\" + id);\r\n    return result?.data;\r\n  } catch (error) {\r\n    toast.error(getError(error));\r\n  }\r\n};\r\n\r\n//remove product\r\nconst adminRemoveProduct = async (product) => {\r\n  try {\r\n    const userLocal = JSON.parse(localStorage.getItem(\"user\"));\r\n    const result = await axios.delete(API_URL + product._id, {\r\n      headers: {\r\n        authorization: `Bearer ${userLocal.token}`,\r\n      },\r\n    });\r\n    toast.success(\"Product Deleted Successfully\");\r\n    window.location.reload();\r\n    return result?.data;\r\n  } catch (error) {\r\n    toast.error(getError(error));\r\n  }\r\n};\r\n\r\n//admin create product\r\nconst adminCreateProduct = async ({ navigate }) => {\r\n  try {\r\n    const userLocal = JSON.parse(localStorage.getItem(\"user\"));\r\n    const result = await axios.post(\r\n      \"/api/v1/products\",\r\n      {},\r\n      {\r\n        headers: {\r\n          authorization: `Bearer ${userLocal.token}`,\r\n        },\r\n      }\r\n    );\r\n    toast.success(\"product created successfully\");\r\n    navigate(`/admin/product/${result?.data.product._id}`);\r\n    return result?.data;\r\n  } catch (error) {\r\n    toast.error(getError(error));\r\n  }\r\n};\r\n\r\n\r\n\r\nconst productService = {\r\n  productsFetch,\r\n  productFetch,\r\n  adminRemoveProduct,\r\n  adminCreateProduct,\r\n};\r\n\r\nexport default productService;\r\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,SAASC,QAAT,QAAyB,OAAzB;AAEA,MAAMC,OAAO,GAAG,mBAAhB,C,CAEA;;AACA,MAAMC,aAAa,GAAG,YAAY;EAChC,IAAI;IACF,MAAMC,MAAM,GAAG,MAAML,KAAK,CAACM,GAAN,CAAUH,OAAV,CAArB;IACA,OAAOE,MAAP,aAAOA,MAAP,uBAAOA,MAAM,CAAEE,IAAf;EACD,CAHD,CAGE,OAAOC,KAAP,EAAc;IACdP,KAAK,CAACO,KAAN,CAAYN,QAAQ,CAACM,KAAD,CAApB;EACD;AACF,CAPD,C,CASA;;;AACA,MAAMC,YAAY,GAAG,MAAOC,EAAP,IAAc;EACjC,IAAI;IACF,MAAML,MAAM,GAAG,MAAML,KAAK,CAACM,GAAN,CAAUH,OAAO,GAAG,UAAV,GAAuBO,EAAjC,CAArB;IACA,OAAOL,MAAP,aAAOA,MAAP,uBAAOA,MAAM,CAAEE,IAAf;EACD,CAHD,CAGE,OAAOC,KAAP,EAAc;IACdP,KAAK,CAACO,KAAN,CAAYN,QAAQ,CAACM,KAAD,CAApB;EACD;AACF,CAPD,C,CASA;;;AACA,MAAMG,kBAAkB,GAAG,MAAOC,OAAP,IAAmB;EAC5C,IAAI;IACF,MAAMC,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAlB;IACA,MAAMZ,MAAM,GAAG,MAAML,KAAK,CAACkB,MAAN,CAAaf,OAAO,GAAGS,OAAO,CAACO,GAA/B,EAAoC;MACvDC,OAAO,EAAE;QACPC,aAAa,EAAG,UAASR,SAAS,CAACS,KAAM;MADlC;IAD8C,CAApC,CAArB;IAKArB,KAAK,CAACsB,OAAN,CAAc,8BAAd;IACAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB;IACA,OAAOrB,MAAP,aAAOA,MAAP,uBAAOA,MAAM,CAAEE,IAAf;EACD,CAVD,CAUE,OAAOC,KAAP,EAAc;IACdP,KAAK,CAACO,KAAN,CAAYN,QAAQ,CAACM,KAAD,CAApB;EACD;AACF,CAdD,C,CAgBA;;;AACA,MAAMmB,kBAAkB,GAAG,cAAwB;EAAA,IAAjB;IAAEC;EAAF,CAAiB;;EACjD,IAAI;IACF,MAAMf,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAlB;IACA,MAAMZ,MAAM,GAAG,MAAML,KAAK,CAAC6B,IAAN,CACnB,kBADmB,EAEnB,EAFmB,EAGnB;MACET,OAAO,EAAE;QACPC,aAAa,EAAG,UAASR,SAAS,CAACS,KAAM;MADlC;IADX,CAHmB,CAArB;IASArB,KAAK,CAACsB,OAAN,CAAc,8BAAd;IACAK,QAAQ,CAAE,kBAAiBvB,MAAlB,aAAkBA,MAAlB,uBAAkBA,MAAM,CAAEE,IAAR,CAAaK,OAAb,CAAqBO,GAAI,EAA5C,CAAR;IACA,OAAOd,MAAP,aAAOA,MAAP,uBAAOA,MAAM,CAAEE,IAAf;EACD,CAdD,CAcE,OAAOC,KAAP,EAAc;IACdP,KAAK,CAACO,KAAN,CAAYN,QAAQ,CAACM,KAAD,CAApB;EACD;AACF,CAlBD;;AAsBA,MAAMsB,cAAc,GAAG;EACrB1B,aADqB;EAErBK,YAFqB;EAGrBE,kBAHqB;EAIrBgB;AAJqB,CAAvB;AAOA,eAAeG,cAAf"},"metadata":{},"sourceType":"module"}