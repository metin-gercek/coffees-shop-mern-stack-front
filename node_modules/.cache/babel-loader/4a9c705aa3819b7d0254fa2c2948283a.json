{"ast":null,"code":"import _regeneratorRuntime from\"C:/tiedostot/coffees-shop-mern-stack/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/tiedostot/coffees-shop-mern-stack/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/tiedostot/coffees-shop-mern-stack/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{BrowserRouter,Routes,Route}from\"react-router-dom\";import Home from\"pages/Home\";import{Container,Nav}from\"react-bootstrap\";import{useState,useEffect}from\"react\";import Cart from\"pages/Cart\";import Signin from\"pages/Signin\";import{toast,ToastContainer}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import Header from\"./Header\";import Shipping from\"pages/Shipping\";import Signup from\"pages/Signup\";import ProfilePage from\"pages/ProfilePage\";import{LinkContainer}from\"react-router-bootstrap\";import axios from\"axios\";import{getError}from\"../utils\";import SearchScreen from\"pages/SearchPage\";import ProtectedRoute from\"./ProtectedRoute\";import AdminDashboard from\"pages/AdminDashboard\";import AdminRoute from\"./AdminRoute\";import AdminProductList from\"pages/AdminProductList\";import SingleProductPage from\"pages/SingleProductPage\";import AdminProductEdit from\"pages/AdminProductEdit\";import UserLists from\"pages/UserLists\";import UserEdit from\"pages/UserEdit\";import Payment from\"pages/Payment\";import PlaceOrder from\"pages/PlaceOrder\";import OrderPageUser from\"pages/OrderPageUser\";import OrderHistory from\"pages/OrderHistory\";import SearchBox from\"./SearchBox\";import AdminOrderList from\"pages/AdminOrderList\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),sidebarIsOpen=_useState2[0],setSidebarIsOpen=_useState2[1];var setSidebarOpenHandler=function setSidebarOpenHandler(){setSidebarIsOpen(!sidebarIsOpen);};var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),categories=_useState4[0],setCategories=_useState4[1];useEffect(function(){var fetchCategories=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/api/v1/products/categories\");case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setCategories(data);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);toast.error(getError(_context.t0));case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function fetchCategories(){return _ref.apply(this,arguments);};}();fetchCategories();},[]);return/*#__PURE__*/_jsxs(BrowserRouter,{children:[/*#__PURE__*/_jsx(ToastContainer,{position:\"bottom-center\",limit:1}),/*#__PURE__*/_jsxs(\"div\",{className:sidebarIsOpen?\"d-flex flex-column site-container active-cont\":\"d-flex flex-column site-container\",children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(Header,{setSidebarOpenHandler:setSidebarOpenHandler})}),/*#__PURE__*/_jsx(\"div\",{className:sidebarIsOpen?\"active-nav side-navbar d-flex justify-content-between flex-wrap flex-column\":\"side-navbar d-flex justify-content-between flex-wrap flex-column\",children:/*#__PURE__*/_jsxs(Nav,{className:\"flex-column text-white w-100 p-2\",children:[/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Categories\"})}),categories.map(function(category){return/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(LinkContainer,{to:\"/search?category=\".concat(category),onClick:function onClick(){return setSidebarIsOpen(false);},children:/*#__PURE__*/_jsx(Nav.Link,{className:\"navbar-text-color\",children:category})})},category);}),/*#__PURE__*/_jsx(SearchBox,{})]})}),/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsx(Container,{className:\"mt-3\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/cart\",element:/*#__PURE__*/_jsx(Cart,{})}),/*#__PURE__*/_jsx(Route,{path:\"/product/:id\",element:/*#__PURE__*/_jsx(SingleProductPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signin\",element:/*#__PURE__*/_jsx(Signin,{})}),/*#__PURE__*/_jsx(Route,{path:\"/shipping\",element:/*#__PURE__*/_jsx(Shipping,{})}),/*#__PURE__*/_jsx(Route,{path:\"/payment\",element:/*#__PURE__*/_jsx(Payment,{})}),/*#__PURE__*/_jsx(Route,{path:\"/placeorder\",element:/*#__PURE__*/_jsx(PlaceOrder,{})}),/*#__PURE__*/_jsx(Route,{path:\"/order/:id\",element:/*#__PURE__*/_jsx(OrderPageUser,{})}),/*#__PURE__*/_jsx(Route,{path:\"/orderhistory\",element:/*#__PURE__*/_jsx(OrderHistory,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(Signup,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(ProfilePage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/search\",element:/*#__PURE__*/_jsx(SearchScreen,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/dashboard\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(AdminDashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/users\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(UserLists,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/orders\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(AdminOrderList,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/products\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(AdminProductList,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/product/:id\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(AdminProductEdit,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/user/:id\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(UserEdit,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})})]})})}),/*#__PURE__*/_jsx(\"footer\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:\"All rights reserved \\xA9 Metin Ger\\xE7ek\"})})]})]});};export default App;","map":{"version":3,"names":["BrowserRouter","Routes","Route","Home","Container","Nav","useState","useEffect","Cart","Signin","toast","ToastContainer","Header","Shipping","Signup","ProfilePage","LinkContainer","axios","getError","SearchScreen","ProtectedRoute","AdminDashboard","AdminRoute","AdminProductList","SingleProductPage","AdminProductEdit","UserLists","UserEdit","Payment","PlaceOrder","OrderPageUser","OrderHistory","SearchBox","AdminOrderList","App","sidebarIsOpen","setSidebarIsOpen","setSidebarOpenHandler","categories","setCategories","fetchCategories","get","data","error","map","category"],"sources":["C:/tiedostot/coffees-shop-mern-stack/client/src/components/App.js"],"sourcesContent":["import { BrowserRouter, Routes, Route } from \"react-router-dom\";\r\nimport Home from \"pages/Home\";\r\nimport { Container, Nav } from \"react-bootstrap\";\r\nimport { useState, useEffect } from \"react\";\r\nimport Cart from \"pages/Cart\";\r\nimport Signin from \"pages/Signin\";\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport Header from \"./Header\";\r\nimport Shipping from \"pages/Shipping\";\r\nimport Signup from \"pages/Signup\";\r\nimport ProfilePage from \"pages/ProfilePage\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport axios from \"axios\";\r\nimport { getError } from \"../utils\";\r\nimport SearchScreen from \"pages/SearchPage\";\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport AdminDashboard from \"pages/AdminDashboard\";\r\nimport AdminRoute from \"./AdminRoute\";\r\nimport AdminProductList from \"pages/AdminProductList\";\r\nimport SingleProductPage from \"pages/SingleProductPage\";\r\nimport AdminProductEdit from \"pages/AdminProductEdit\";\r\nimport UserLists from \"pages/UserLists\";\r\nimport UserEdit from \"pages/UserEdit\";\r\nimport Payment from \"pages/Payment\";\r\nimport PlaceOrder from \"pages/PlaceOrder\";\r\nimport OrderPageUser from \"pages/OrderPageUser\";\r\nimport OrderHistory from \"pages/OrderHistory\";\r\nimport SearchBox from \"./SearchBox\";\r\nimport AdminOrderList from \"pages/AdminOrderList\";\r\n\r\nconst App = () => {\r\n  const [sidebarIsOpen, setSidebarIsOpen] = useState(false);\r\n  const setSidebarOpenHandler = () => {\r\n    setSidebarIsOpen(!sidebarIsOpen);\r\n  };\r\n  const [categories, setCategories] = useState([]);\r\n  useEffect(() => {\r\n    const fetchCategories = async () => {\r\n      try {\r\n        const { data } = await axios.get(`/api/v1/products/categories`);\r\n        setCategories(data);\r\n      } catch (err) {\r\n        toast.error(getError(err));\r\n      }\r\n    };\r\n    fetchCategories();\r\n  }, []);\r\n  return (\r\n    <BrowserRouter>\r\n      <ToastContainer position=\"bottom-center\" limit={1} />\r\n      <div\r\n        className={\r\n          sidebarIsOpen\r\n            ? \"d-flex flex-column site-container active-cont\"\r\n            : \"d-flex flex-column site-container\"\r\n        }\r\n      >\r\n        <header>\r\n          <Header setSidebarOpenHandler={setSidebarOpenHandler} />\r\n        </header>\r\n        <div\r\n          className={\r\n            sidebarIsOpen\r\n              ? \"active-nav side-navbar d-flex justify-content-between flex-wrap flex-column\"\r\n              : \"side-navbar d-flex justify-content-between flex-wrap flex-column\"\r\n          }\r\n        >\r\n          <Nav className=\"flex-column text-white w-100 p-2\">\r\n            <Nav.Item>\r\n              <strong>Categories</strong>\r\n            </Nav.Item>\r\n            {categories.map((category) => (\r\n              <Nav.Item key={category}>\r\n                <LinkContainer\r\n                  to={`/search?category=${category}`}\r\n                  onClick={() => setSidebarIsOpen(false)}\r\n                >\r\n                  <Nav.Link className=\"navbar-text-color\">{category}</Nav.Link>\r\n                </LinkContainer>\r\n              </Nav.Item>\r\n            ))}\r\n            <SearchBox />\r\n          </Nav>\r\n        </div>\r\n        <main>\r\n          <Container className=\"mt-3\">\r\n            <Routes>\r\n              <Route path=\"/cart\" element={<Cart />} />\r\n              <Route path=\"/product/:id\" element={<SingleProductPage />} />\r\n              <Route path=\"/signin\" element={<Signin />} />\r\n              <Route path=\"/shipping\" element={<Shipping />} />\r\n              <Route path=\"/payment\" element={<Payment />} />\r\n              <Route path=\"/placeorder\" element={<PlaceOrder />} />\r\n              <Route path=\"/order/:id\" element={<OrderPageUser />}></Route>\r\n              <Route path=\"/orderhistory\" element={<OrderHistory />}></Route>\r\n              <Route path=\"/signup\" element={<Signup />} />\r\n              <Route\r\n                path=\"/profile\"\r\n                element={\r\n                  <ProtectedRoute>\r\n                    <ProfilePage />\r\n                  </ProtectedRoute>\r\n                }\r\n              />\r\n              <Route path=\"/search\" element={<SearchScreen />} />\r\n              {/* Admin Routes */}\r\n              <Route\r\n                path=\"/admin/dashboard\"\r\n                element={\r\n                  <AdminRoute>\r\n                    <AdminDashboard />\r\n                  </AdminRoute>\r\n                }\r\n              />\r\n              <Route\r\n                path=\"/admin/users\"\r\n                element={\r\n                  <AdminRoute>\r\n                    <UserLists />\r\n                  </AdminRoute>\r\n                }\r\n              ></Route>\r\n\t\t\t   <Route\r\n                path=\"/admin/orders\"\r\n                element={\r\n                  <AdminRoute>\r\n                    <AdminOrderList />\r\n                  </AdminRoute>\r\n                }\r\n              ></Route>\r\n              <Route\r\n                path=\"/admin/products\"\r\n                element={\r\n                  <AdminRoute>\r\n                    <AdminProductList />\r\n                  </AdminRoute>\r\n                }\r\n              />\r\n              <Route\r\n                path=\"/admin/product/:id\"\r\n                element={\r\n                  <AdminRoute>\r\n                    <AdminProductEdit />\r\n                  </AdminRoute>\r\n                }\r\n              />\r\n              <Route\r\n                path=\"/admin/user/:id\"\r\n                element={\r\n                  <AdminRoute>\r\n                    <UserEdit />\r\n                  </AdminRoute>\r\n                }\r\n              ></Route>\r\n\r\n              <Route path=\"/\" element={<Home />} />\r\n            </Routes>\r\n          </Container>\r\n        </main>\r\n        <footer>\r\n          <div className=\"text-center\">\r\n            All rights reserved &copy; Metin Gerçek\r\n          </div>\r\n        </footer>\r\n      </div>\r\n    </BrowserRouter>\r\n  );\r\n};\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}