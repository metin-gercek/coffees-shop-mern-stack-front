{"ast":null,"code":"import _toConsumableArray from\"C:/tiedostot/coffees-shop-mern-stack/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import React,{useEffect}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{getDashboardSummary}from\"features/cartSlice\";import Loading from\"components/Loading\";import ErrorMessageBox from\"components/ErrorMessageBox\";import{Row,Col,Card}from\"react-bootstrap\";import Chart from\"react-google-charts\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AdminDashboard=function AdminDashboard(){var dispatch=useDispatch();useEffect(function(){dispatch(getDashboardSummary());},[dispatch]);var _useSelector=useSelector(function(state){return state.cart;}),summary=_useSelector.summary,error=_useSelector.error;var _useSelector2=useSelector(function(state){return state.products;}),products=_useSelector2.products;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Dashboard\"}),summary.status===\"pending\"?/*#__PURE__*/_jsx(Loading,{}):error?/*#__PURE__*/_jsx(ErrorMessageBox,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:summary.users&&summary.users[0]?summary.users[0].numUsers:0}),/*#__PURE__*/_jsx(Card.Text,{children:\" Users\"})]})})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:products?products.length:0}),/*#__PURE__*/_jsx(Card.Text,{children:\" Products\"})]})})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:summary.orders&&summary.users[0]?summary.orders[0].numOrders:0}),/*#__PURE__*/_jsx(Card.Text,{children:\" Orders\"})]})})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsxs(Card.Title,{children:[\"\\u20AC \",summary.orders&&summary.users[0]?summary.orders[0].totalSales.toFixed(2):0]}),/*#__PURE__*/_jsx(Card.Text,{children:\" Total Income\"})]})})})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Chart,{width:\"100%\",height:\"400px\",chartType:\"ColumnChart\",loader:/*#__PURE__*/_jsx(\"div\",{children:\"Loading Chart...\"}),data:[[\"Date\",\"Sales\"]].concat(_toConsumableArray(summary.dailyOrders.map(function(x){return[x._id,x.sales];})))})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Chart,{width:\"100%\",height:\"400px\",chartType:\"PieChart\",loader:/*#__PURE__*/_jsx(\"div\",{children:\"Loading Chart...\"}),data:[[\"Category\",\"Products\"]].concat(_toConsumableArray(summary.productCategories.map(function(x){return[x._id,x.count];})))})})]})]});};export default AdminDashboard;","map":{"version":3,"names":["React","useEffect","useSelector","useDispatch","getDashboardSummary","Loading","ErrorMessageBox","Row","Col","Card","Chart","AdminDashboard","dispatch","state","cart","summary","error","products","status","users","numUsers","length","orders","numOrders","totalSales","toFixed","dailyOrders","map","x","_id","sales","productCategories","count"],"sources":["C:/tiedostot/coffees-shop-mern-stack/client/src/pages/AdminDashboard.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getDashboardSummary } from \"features/cartSlice\";\r\n\r\nimport Loading from \"components/Loading\";\r\nimport ErrorMessageBox from \"components/ErrorMessageBox\";\r\nimport { Row, Col, Card } from \"react-bootstrap\";\r\nimport Chart from \"react-google-charts\";\r\n\r\nconst AdminDashboard = () => {\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(getDashboardSummary());\r\n  }, [dispatch]);\r\n\r\n  const { summary, error } = useSelector((state) => state.cart);\r\n  const { products } = useSelector((state) => state.products);\r\n  \r\n\r\n  return (\r\n    <div>\r\n      <h1>Dashboard</h1>\r\n      {summary.status === \"pending\" ? (\r\n        <Loading />\r\n      ) : error ? (\r\n        <ErrorMessageBox variant=\"danger\">{error}</ErrorMessageBox>\r\n      ) : (\r\n        <>\r\n          <Row>\r\n            <Col md={3}>\r\n              <Card>\r\n                <Card.Body>\r\n                  <Card.Title>\r\n                    {summary.users && summary.users[0] ? summary.users[0].numUsers : 0}\r\n                  </Card.Title>\r\n                  <Card.Text> Users</Card.Text>\r\n                </Card.Body>\r\n              </Card>\r\n            </Col>\r\n            <Col md={3}>\r\n              <Card>\r\n                <Card.Body>\r\n                  <Card.Title>\r\n                    {products ? products.length : 0}\r\n                  </Card.Title>\r\n                  <Card.Text> Products</Card.Text>\r\n                </Card.Body>\r\n              </Card>\r\n            </Col>\r\n            <Col md={3}>\r\n              <Card>\r\n                <Card.Body>\r\n                  <Card.Title>\r\n                    {summary.orders && summary.users[0] ? summary.orders[0].numOrders : 0}\r\n                  </Card.Title>\r\n                  <Card.Text> Orders</Card.Text>\r\n                </Card.Body>\r\n              </Card>\r\n            </Col>\r\n            <Col md={3}>\r\n              <Card>\r\n                <Card.Body>\r\n                  <Card.Title>\r\n                    â‚¬ {summary.orders && summary.users[0] ? summary.orders[0].totalSales.toFixed(2) : 0}\r\n                  </Card.Title>\r\n                  <Card.Text> Total Income</Card.Text>\r\n                </Card.Body>\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            <Chart\r\n              width=\"100%\"\r\n              height=\"400px\"\r\n              chartType=\"ColumnChart\"\r\n              loader={<div>Loading Chart...</div>}\r\n              data={[\r\n                [\"Date\", \"Sales\"],\r\n                ...summary.dailyOrders.map((x) => [x._id, x.sales]),\r\n              ]}\r\n            ></Chart>\r\n          </Row>\r\n          <Row>\r\n            <Chart\r\n              width=\"100%\"\r\n              height=\"400px\"\r\n              chartType=\"PieChart\"\r\n              loader={<div>Loading Chart...</div>}\r\n              data={[\r\n                [\"Category\", \"Products\"],\r\n                ...summary.productCategories.map((x) => [x._id, x.count]),\r\n              ]}\r\n            ></Chart>\r\n          </Row>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}